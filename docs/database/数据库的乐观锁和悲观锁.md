# 数据库的乐观锁和悲观锁

**乐观锁和悲观锁是并发控制主要采用的技术手段**。

* 悲观锁：假如会发生并发冲突，就屏蔽一切可能会违反数据完整性的操作
    * **在查询完数据后就把事务锁起来，直到提交事务**
    * 实现方式：使用数据库中的锁机制
* 乐观锁：假如不会发送并发冲突，只在提交操作时检查是否会违反数据完整性
    * **在修改数据的时候把事务锁起来，通过`version`的方式来进行锁定**
    * 实现方式：使用`version`版本或者时间戳